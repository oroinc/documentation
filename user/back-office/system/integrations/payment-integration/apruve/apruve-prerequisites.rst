:oro_documentation_types: OroCommerce

.. _user-guide--payment--prerequisites--apruve:

Prerequisites for Apruve Services Integration in the Back-Office
================================================================

Before adding Apruve as a payment method in OroCommerce, you need to create an Apruve business account and a dedicated API key via the official Apruve website.

The role in the Apruve system is determined by the way you participate in a particular transaction. There are three different roles:

.. csv-table::
   :header: "Role", "Description"
   :widths: 10, 30

   "**Shopper**", "The person shopping for products or services and selecting the Apruve payment method during the checkout."
   "**Payer**","The person who will be reviewing and paying for the transaction."
   "**Merchant**", "The person who owns the store."

Register a Business Account with Apruve
---------------------------------------

To register a business account and enable a checkout credit program integration with OroCommerce, follow the next steps:

1. Contact a member of the Apruve Sales Team at |https://www.apruve.com/|.

2. Obtain the following credentials from the Apruve support team:

   * **Email Address** ---  Email address used to receive notifications after submitted orders, issued invoices and finalized payments.
   * **Password** --- Password used to log into your Apruve account to view all the details.

   You will use these credentials to set up the integration between Apruve and OroCommerce (see more details on how to set up this integration in the :ref:`Apruve Payment Method Integration <user-guide--payment--configuration--payment-method-integration--apruve>` topic).

3. Log into the |https://app.apruve.com| with your email address and password generated in the previous step.

.. image:: /user/img/system/integrations/apruve/apruve_prerequisites_2.png
  :class: with-border

Create a Test Account
---------------------

The OroCommerce Apruve configuration offers you a possibility to select a test mode to test your store first and ensure that the integration is working properly. Test mode activation should be performed on both sides.

On the OroCommerce side, you need to enable the test mode when setting up the integration by selecting the **Test Mode** checkbox (see :ref:`Apruve Payment Method Integration <user-guide--payment--configuration--payment-method-integration--apruve>`).

On the Apruve side, you need to follow the |https://test.apruve.com| link and create a test account. This test account is identical to the |https://app.apruve.com| regular one but exists only as a test environment that can be used for exploring the Apruve software and its functionality without any risks of the money being charged.

Additionally, the Apruve test account provides the ability to create test credit cards and bank accounts (see `Add Bank Account Information`_ for details).

To create an Apruve test account, proceed with the following steps:

1. Log into the |https://test.apruve.com| with the credentials generated at the stage of registering a business account.

.. note:: You can change the credentials any time by navigating to **Settings > User Profile** in the main menu on the left.

2. Configure your store settings by adding the business information, linking your bank account to the Apruve system, and generating an API key.

Add Business Information
------------------------

To modify your store profile settings and add contact information, navigate to **Settings** > **Store** in the main menu on the left.

Here, you can check your *Merchant ID* which is automatically generated by Apruve along with your password. You will need this *Merchant ID* when integrating the Apruve payment method with your store.

3. Fill in *Store Profile Details*, such as your store name, email, phone, website, and mailing address. Optionally, enter your Business Tax ID.

4. Upload the logo image of your store.

.. important::
      A high-quality logo image should use the .PNG image extension with a file size smaller than 2MB, dimensions of at least 200 pixels in width, and a transparent background.

.. image:: /user/img/system/integrations/apruve/apruve_prerequisites_4.png
   :class: with-border

Add Bank Account Information
----------------------------

Your debit bank account information is required while processing various of payments with the help of Apruve.

To connect your debit bank account to Apruve:

1. Navigate to **Settings > Billing** in the main menu on the left.

2. Click **Edit** in the Payment Method section.

.. image:: /user/img/system/integrations/apruve/apruve_edit_payment_method.png

3. Fill in all the required information regarding your debit card.

4. Click **Save Bank Account**.

.. note:: Apruve offers to create a test account to check the procedure of its integration with your store.

Create an API Key
-----------------

An API key is used to secure your business profile information and provide automated access to your Apruve data.

To generate the API key:

1. Navigate to **Settings > Technical** in the main menu on the left.

2. Type in the name of your new API key in the **Generate API key Name** field.

3. Save it by clicking **Create Key**.

.. image:: /user/img/system/integrations/apruve/apruve_prerequisites_7.png

You will need this *API Key* when integrating the Apruve payment method with your store.

Configure Notifications
-----------------------

To configure notification options to receive emails on activities performed through Apruve:

1. Navigate to **Settings > Technical** in the main menu on the left.

2. In the **Notification Preferences** section, enter *Webhook URL*, which is generated at the stage of integrating the Apruve payment method with your store (see :ref:`Apruve Payment Method Integration <user-guide--payment--configuration--payment-method-integration--apruve>` topic for more details).

3. Click **Save Notification Preferences**.

.. image:: /user/img/system/integrations/apruve/apruve_integration_3.1.png
   :class: with-border


.. include:: /include/include-links-user.rst
   :start-after: begin




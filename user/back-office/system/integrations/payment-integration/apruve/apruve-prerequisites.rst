.. _user-guide--payment--prerequisites--apruve:

Prerequisites for Apruve Services Integration
=============================================

Before adding Apruve as a payment method in OroCommerce, you need to create an Apruve business account and a dedicated API key via the official Apruve website.

The role in the Apruve system is determined by the way you participate in a particular transaction. There are two different roles:

.. csv-table::
   :header: "Role", "Description"
   :widths: 10, 30

   "**Shopper**", "The person shopping for products or services and selecting the Apruve payment method during the checkout."
   "**Merchant**", "The person who owns the store."

Register a Business Account with Apruve
---------------------------------------

To register a business account and enable a checkout credit program integration with OroCommerce, follow the next steps:

1. Contact |https://www.apruve.com/| to get started and schedule a time for a conversation with a member of the Apruve Sales Team.

   .. image:: /user/img/system/integrations/apruve/apruve_prerequisites_1.png
      :class: with-border

2. From the Apruve support team, obtain the following credentials:

   * **Email Address** ---  Email address used to receive notifications after submitted orders, issued invoices and finalized payments.
   * **Password** --- Password used to log into your Apruve account to view all the details.

   You will use these credentials to set up the integration between Apruve and OroCommerce (see more details on how to set up this integration in the :ref:`Apruve Payment Method Integration <user-guide--payment--configuration--payment-method-integration--apruve>` topic).

3. Log into the |https://app.apruve.com| with your email address and password generated in the previous step.

   .. image:: /user/img/system/integrations/apruve/apruve_prerequisites_2.png
      :class: with-border

4. Fill in the following sections under **Get Started Checklist** to enable the credit program for your customer user:

   * **Add business information** --- Provide a logo and contact information that will be displayed to the customer users.
   * **Add bank account information** --- Connect a debit card to proceed with all the transactions performed through the Apruve account.
   * **Connect API** --- Integrate the Apruve API into the OroCommerce checkout.

   .. image:: /user/img/system/integrations/apruve/apruve_prerequisites_3.png
      :class: with-border

Create a Test Account
---------------------

The OroCommerce Apruve configuration offers you a possibility to select a test mode to test your store first and ensure that the integration is working properly. Test mode activation should be performed on both sides.

On the OroCommerce side, you need to enable the test mode when setting up the integration by selecting the **Test Mode** check box (see :ref:`Apruve Payment Method Integration <user-guide--payment--configuration--payment-method-integration--apruve>`).

On the Apruve side, you need to follow the |https://test.apruve.com| link and create a test account. This test account is identical to the |https://app.apruve.com| regular one but exists only as a test environment that can be used for exploring the Apruve software and its functionality without any risks of the money being charged.

Additionally, the Apruve test account provides the ability to create test credit cards and bank accounts (see `Add Bank Account Information`_ for details).

To create an Apruve test account, proceed with the following steps:

1. Log into the |https://test.apruve.com| with the credentials generated at the stage of registering a business account.

   .. note:: You can change the credentials any time by navigating to **Settings > Profile** in the main menu on the left.

2. Configure your store settings by adding the business information, linking your bank account to the Apruve system, and generating an API key.

Add Business Information
------------------------

To modify your store profile settings and add contact information, click **Add business information** on the **Get Started Checklist** page.

Alternatively:

1. Navigate to **Settings** > **Store Profile** in the main menu on the left.

2. Click the **Merchant** section.

   Here, you can check your *Merchant ID* which is automatically generated by Apruve along with your password. You will need this *Merchant ID* when integrating the Apruve payment method with your store.

3. Fill in *Store Details* in the **Merchant** section with the following credentials:

   * Store Name
   * Email Address
   * Business Phone
   * Website
   * Street 1
   * Street 2 (optional)
   * City
   * State
   * Postal Code
   * Business Tax ID (optional)

   .. image:: /user/img/system/integrations/apruve/apruve_prerequisites_4.png
      :class: with-border

4. Click **Save Changes** to proceed to the **Branding** section next to **Merchant** section and upload the logo image of your store.

   .. important::
      A high-quality logo image should use the .PNG image extension with a file size smaller than 2MB, dimensions of at least 200 pixels in width, and a transparent background.

   .. image:: /user/img/system/integrations/apruve/apruve_prerequisites_5.png
      :class: with-border

Add Bank Account Information
----------------------------

Your debit bank account information is required while processing all various of payments with the help of Apruve.

To connect your debit bank account to Apruve, click **Add bank account information** on the **Get Started Checklist** page.

Alternatively:

1. Navigate to **Settings > Bank Accounts** in the main menu on the left.

2. Fill in all the required information regarding your debit card.

3. Click **Add Bank Account**.

.. note:: Apruve offers to create a test account to check the procedure of its integration with your store.

.. image:: /user/img/system/integrations/apruve/apruve_prerequisites_6.png
   :class: with-border

Create an API Key
-----------------

An API key is used to secure your business profile information and provide automated access to your Apruve data. To generate the API key, click **Connect API** on the **Get Started Checklist** page.

Alternatively,

1. Navigate to **Settings > Store Profile** in the main menu on the left.

2. In the **Technical** section, next to **Branding**, click the **Go to my API Keys** link.

3. Click **Create an API Key**.

   .. image:: /user/img/system/integrations/apruve/apruve_prerequisites_7.png
      :class: with-border

4. Type in the name of the API key.

5. Save it by clicking **Create Key**.

   .. image:: /user/img/system/integrations/apruve/apruve_prerequisites_8.png
      :class: with-border

You will need this *API Key* when integrating the Apruve payment method with your store.

Configure Notifications
-----------------------

To configure notification options to receive emails on activities performed through Apruve:

1. Navigate to **Settings** > **Store Profile** in the main menu on the left.

2. In the **Technical** section, find the **Notifications** option.

3. Enter *Webhook URL*, which is generated at the stage of integrating the Apruve payment method with your store (see :ref:`Apruve Payment Method Integration <user-guide--payment--configuration--payment-method-integration--apruve>` topic for more details).

4. Optionally, enter your *email address* to receive all the updates regarding changes in your orders, invoices, and payments.

5. Click **Save Notification Preferences**.

   .. image:: /user/img/system/integrations/apruve/apruve_prerequisites_9.png
      :class: with-border


.. include:: /include/include-links.rst
   :start-after: begin



